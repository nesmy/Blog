---
import Base from "@/layouts/BaseLayout.astro"
import PostCard from "@/components/PostCard.astro"
import { getCollection } from "astro:content"
const posts = await getCollection('posts')
const filtered = posts.filter(p => p.data.tag === "tech").toSorted((a,b) => b.data.published.getTime() - a.data.published.getTime())
---
<Base title="Tech â€” Debug & Play">
  <h1 class="text-3xl font-extrabold">Tech</h1>
  <div class="mt-6 space-y-1">
    {filtered.map(p => (
      <PostCard
        href={`/posts/${p.slug}/`}
        title={p.data.title}
        date={p.data.published.toISOString()}
        tag={p.data.tag}
        image={p.data.image}
        description={p.data.description}
      />
    ))}
  </div>
</Base>
